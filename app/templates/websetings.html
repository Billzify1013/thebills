{% extends "base.html" %}
{% block content %}


{% if messages%}
{% for msg in messages %}
<div class="container mt-0">
    <!-- Success Alert -->
    {% if msg.tags == 'success' %}
    <div id="success-alert" class="alert alert-success alert-dismissible" role="alert">
        {{msg}}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {%else%}
    <div id="success-alert" class="alert alert-danger alert-dismissible" role="alert">
        {{msg}}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {%endif%}
</div>
{%endfor%}

<script>
    $(document).ready(function() {
        // Fade out the alert after 5 seconds (5000 milliseconds)
        setTimeout(function() {
            $("#success-alert").fadeTo(500, 0).slideUp(500, function(){
                $(this).remove(); 
            });
        }, 1000);
    });
</script>
{%endif%}



<div class="row mb-3">

  <div class="col-3 ">
      
      <div class="nav-align-top mb-4">
          <ul class="nav nav-pills mb-3 nav-fill text-right" role="tablist" style="text-align:left">
            <li class="nav-item w-100 m-1 mt-3 " >
              <button
                type="button"
                class="nav-link active " 
               style="text-align:left"
                role="tab"
                data-bs-toggle="tab"
                data-bs-target="#navs-pills-justified-stop"
                aria-controls="navs-pills-justified-stop"
                aria-selected="true"
              >
              <i class='bx bx-shape-square'></i> Manage Stop And On BE
              </button>
            </li>
            <li class="nav-item w-100 m-1">
              <button
                type="button"
                class="nav-link"
                style="text-align:left"
                role="tab"
                data-bs-toggle="tab"
                data-bs-target="#navs-pills-justified-hgl"
                aria-controls="navs-pills-justified-hgl"
                aria-selected="false"
              >
              <i class='bx bxs-image mb-1'></i> Hotel Gallary
              </button>
            </li>
            <li class="nav-item w-100 m-1">
              <button
                type="button"
                class="nav-link"
                style="text-align:left"
                role="tab"
                data-bs-toggle="tab"
                data-bs-target="#navs-pills-justified-ctd"
                aria-controls="navs-pills-justified-ctd"
                aria-selected="false"
              >
              <i class='bx bxs-category-alt'></i> Contact Details
              </button>
            </li>
          
            
           
          </ul>
          
        </div>

      
  </div>
  <div class="col-9">
      <div class="card ">
          <div class="tab-content">
              <!--loylty div start-->
              <div class="tab-pane fade show active" id="navs-pills-justified-stop" role="tabpanel">
                  <h5><i class='bx bx-shape-square'></i>On/Off Sell on Booking Engine</h5>
                 
                  
                  <div class="col-12 mt-3  mb-md-0">
                            
                  <form action="{% url 'updatebookeg' %}" method="POST"  >
                      {% csrf_token %}
                  
                    <div class="row">
                     
                      <div class="col-6 mb-6">
                        <label for="nameBackdrop" class="form-label">Update Status</label>
                        {% for i in checkstatus%}
                        {% if i.is_active == True%}
                        <input name="checkinpt" value="on"  class="form-check-input ms-1 mt-1 " checked style="height:25px;width:25px;display:block" type="checkbox"  />
                        <p class="m-1 text-success">CURRENT: BOOKING-ENGINE ON</p>
                        {%else%}
                        <input name="checkinpt" value="off"   class="form-check-input ms-1 mt-1" style="height:25px;width:25px;display:block" type="checkbox"  />
                        <p class="m-1 text-danger">CURRENT: BOOKING-ENGINE OFF</p>
                        {%endif%}
                        {%endfor%}
                      </div>
                      
                  </div>
                  <button type="submit" class="btn btn-primary mt-4 ms-1 w-25">
                      Update
                  </button>
                  
              </form>

              

          </div></div>
                  
              <!--loylty div end-->

             

              <!--tax div start-->
              <div class="tab-pane fade show " id="navs-pills-justified-hgl" role="tabpanel">
                  <h5><i class='bx bxs-image mb-1'></i>  Add Images To Websites Gallary</h5>
                  <div class="col-12 mb-2">
                      <button
                        class="btn btn-primary mb-4 float-end"
                        data-bs-toggle="collapse"
                        href="#multiCollapseExample1"
                        role="button"
                        aria-expanded="false"
                        aria-controls="multiCollapseExample1"
  
                        ><i class='bx bxs-plus-circle mb-1'></i> Add Images </button>
                      
                  </div>
                  <div class="collapse multi-collapse" id="multiCollapseExample1">
                            
                      <form action="{% url 'addhotelimg' %}" method="POST"  enctype="multipart/form-data">
                          {% csrf_token %}
                      
                        <div class="row">

                          
                          <div class="col-6 mb-6">
                            <p id="message" style="color: red;"></p>
                            <label for="nameBackdrop" class="form-label">Choose Image</label>
                            <input
                              type="file"
                              name="addhotelimg"
                              maxlength="60"
                            id="imageInput"
                              {% comment %} id="fileInput" {% endcomment %}
                              class="form-control"
                              placeholder="Like Free Wifi,Swiming Pool!"
                              required
                            />
                          </div>
                          <p id="processingMessage" style="display: none; color: green;" class="TEXT text-success">Processing your image, please wait...</p>
                          <img id="preview" alt="Resized Preview" style="display: none; max-width: 100%; margin-top: 10px;" >
                      </div>
                      <button type="submit" class="btn btn-primary mt-4 ms-3 w-25">
                          Add
                      </button>
                      
                  </form></div>
                  
                  <script>
                    const MAX_FILE_SIZE = 700 * 1024; // 700 KB
                    const MAX_DIMENSION = 1200; // Maximum width or height to avoid unnecessary large images
            
                    document.getElementById('imageInput').addEventListener('change', async function(event) {
                        const input = event.target;
                        const file = input.files[0];
                        const processingMessage = document.getElementById('processingMessage');
                        const preview = document.getElementById('preview');
            
                        if (!file) return;
            
                        // Show "Processing" message
                        processingMessage.style.display = 'block';
                        processingMessage.textContent = "Processing your image, please wait...";
                        preview.style.display = 'none';
            
                        // Resize and compress file
                        const resizedFile = await resizeAndCompressImage(file, MAX_FILE_SIZE, MAX_DIMENSION);
            
                        // Replace input file with resized file
                        const dataTransfer = new DataTransfer();
                        dataTransfer.items.add(resizedFile);
                        input.files = dataTransfer.files;
            
                        // Hide "Processing" message and show preview
                        processingMessage.style.display = 'none';
                        preview.src = URL.createObjectURL(resizedFile);
                        preview.style.display = 'block';
                    });
            
                    async function resizeAndCompressImage(file, maxFileSize, maxDimension) {
                        return new Promise((resolve) => {
                            const img = new Image();
                            const reader = new FileReader();
            
                            reader.onload = (e) => {
                                img.src = e.target.result;
                            };
            
                            img.onload = () => {
                                const canvas = document.createElement('canvas');
                                const ctx = canvas.getContext('2d');
            
                                // Calculate resizing dimensions
                                let { width, height } = img;
                                if (width > maxDimension || height > maxDimension) {
                                    if (width > height) {
                                        height *= maxDimension / width;
                                        width = maxDimension;
                                    } else {
                                        width *= maxDimension / height;
                                        height = maxDimension;
                                    }
                                }
            
                                canvas.width = width;
                                canvas.height = height;
            
                                ctx.drawImage(img, 0, 0, width, height);
            
                                // Compress image with reduced quality
                                canvas.toBlob(
                                    (blob) => {
                                        if (blob.size > maxFileSize) {
                                            // If still too large, reduce quality further
                                            canvas.toBlob(
                                                (finalBlob) => {
                                                    resolve(
                                                        new File([finalBlob], file.name, {
                                                            type: file.type,
                                                            lastModified: Date.now(),
                                                        })
                                                    );
                                                },
                                                file.type,
                                                0.7 // Slightly lower quality for final compression
                                            );
                                        } else {
                                            resolve(
                                                new File([blob], file.name, {
                                                    type: file.type,
                                                    lastModified: Date.now(),
                                                })
                                            );
                                        }
                                    },
                                    file.type,
                                    0.85 // Initial quality setting for fast compression
                                );
                            };
            
                            reader.readAsDataURL(file);
                        });
                    }
                </script>
  
                  {% comment %} <script>
                    const MAX_FILE_SIZE = 700 * 1024; // 700 KB in bytes
                    const fileInput = document.getElementById('fileInput');
                    const messageElement = document.getElementById('message');
            
                    fileInput.addEventListener('change', function(event) {
                        const file = event.target.files[0]; // Get the selected file
            
                        if (file) {
                            if (file.size > MAX_FILE_SIZE) {
                                messageElement.textContent = `File size is too large (${(file.size / 1024).toFixed(2)} KB). Please upload a file smaller than 700 KB.`;
                                event.target.value = ''; // Clear the file input
                            } else {
                                messageElement.textContent = 'File size is valid.';
                            }
                        }
                    });
            
                    // Prevent form submission if the file size is too large
                    document.getElementById('uploadForm').addEventListener('submit', function(event) {
                        const file = fileInput.files[0];
                        if (file && file.size > MAX_FILE_SIZE) {
                            event.preventDefault(); // Prevent form submission
                            messageElement.textContent = 'Please upload a file smaller than 700 KB.';
                        }
                    });
                </script> {% endcomment %}


                  <table class="table mt-5">
                      <thead class="table">
                        <tr>
                          <th>Image Url</th>
                          
                          <th>Action</th>
                        </tr>
                      </thead>
                      <tbody class="table-border-bottom-0">
              
                          {% for data in hotelimgs%}
                        <tr>
                          <td> <strong></strong>
                          <img src="{{data.image.url}}" height="30"/>
                          </td>
                      
                          <td>
                              <a href="{% url 'deletehotelimg' id=data.id %}"><span class="badge bg-label-danger  "><i class='bx bxs-trash'></i></span></a>
                          </td>
                        </tr>
                        {%endfor%}
                 
                      
                      </tbody>
                    </table>

                 

              </div>
              <!--tax div end-->
              

                <!--category div start-->
              <div class="tab-pane fade" id="navs-pills-justified-ctd" role="tabpanel">
                  <h5><i class='bx bxs-image mb-1'></i>Contact Data </h5>
                  <form action="{% url 'addcontactbe' %}" method="POST"  >
                      {% csrf_token %}
                  
                    <div class="row">
                      <div class="col-6 mb-6">
                        <label for="nameBackdrop" class="form-label">BE Email</label>
                        <input
                          type="email"
                          name="emails"
                          maxlength="50"
                          id="nameBackdrop"
                          class="form-control"
                          placeholder="email"
                          required
                        />
                      </div>
                      <div class="col-6 mb-6">
                        <label for="nameBackdrop" class="form-label">Contact</label>
                        <input
                          type="number"
                          name="contact"
                          maxlength="10"
                          id="nameBackdrop"
                          class="form-control"
                          placeholder="Phone"
                          required
                        />
                      </div>
                      <div class="col-6 mt-2 mb-6">
                        <label for="nameBackdrop" class="form-label">Google Map Url</label>
                        <input
                          type="url"
                          name="url"
                          maxlength=""
                          id="nameBackdrop"
                          class="form-control"
                          placeholder="Location link"
                          required
                        />
                      </div>

                    
                      
                  </div>
                  <button type="submit" class="btn btn-primary mt-4  w-25">
                      Add
                  </button>
                  
              </form>
                
              <table class="table mt-5">
                  <thead class="table">
                    <tr>
                      <th>Contact Data</th>
                    </tr>
                  </thead> 
                  <tbody class="table-border-bottom-0">
          
                      {% for data in ctdata%}
                    <tr>
                      <td>Phone :<strong>{{data.phome}}</strong></td><br>
                      <td>Email :<strong>{{data.guestemail}}</strong></td>
                    </tr>
                    {%endfor%}
             
                  
                  </tbody>
                </table>

              </div>
              <!--category div end-->
              
           
            


           
            
            
            </div>

             
      </div>
  </div>













<div class="row mt-3 w-100">

    <div class="col-3 ">
        
        <div class="nav-align-top mb-4">
            <ul class="nav nav-pills mb-3 nav-fill text-right" role="tablist" style="text-align:left">
              <li class="nav-item w-100 m-1 mt-3 " >
                <button
                  type="button"
                  class="nav-link active " 
                 style="text-align:left"
                  role="tab"
                  data-bs-toggle="tab"
                  data-bs-target="#navs-pills-justified-Amenities"
                  aria-controls="navs-pills-justified-Amenities"
                  aria-selected="true"
                >
                <i class='bx bx-shape-square'></i> Amenities
                </button>
              </li>
              <li class="nav-item w-100 m-1">
                <button
                  type="button"
                  class="nav-link"
                  style="text-align:left"
                  role="tab"
                  data-bs-toggle="tab"
                  data-bs-target="#navs-pills-justified-profile"
                  aria-controls="navs-pills-justified-profile"
                  aria-selected="false"
                >
                <i class='bx bxs-image mb-1'></i> Gallary
                </button>
              </li>
              <li class="nav-item w-100 m-1">
                <button
                  type="button"
                  class="nav-link"
                  style="text-align:left"
                  role="tab"
                  data-bs-toggle="tab"
                  data-bs-target="#navs-pills-justified-messages"
                  aria-controls="navs-pills-justified-messages"
                  aria-selected="false"
                >
                <i class='bx bxs-category-alt'></i> Cancellation policy
                </button>
              </li>
              <li class="nav-item w-100 m-1 m-1">
                <button
                  type="button"
                  class="nav-link "
                  style="text-align:left"
                  role="tab"
                  data-bs-toggle="tab"
                  data-bs-target="#navs-pills-justified-sms"
                  aria-controls="navs-pills-justified-sms"
                  aria-selected="true"
                >
                <i class='bx bxs-home-smile mb-1'></i> OFFERS & Package
                </button>
              </li>
              
             
            </ul>
            
          </div>

        
    </div>
    <div class="col-9">
        <div class="card ">
            <div class="tab-content">
                <!--loylty div start-->
                <div class="tab-pane fade show active" id="navs-pills-justified-Amenities" role="tabpanel">
                    <h5><i class='bx bx-shape-square'></i> Create Amenities</h5>
                    <div class="col-12 mb-2">
                        <button
                          class="btn btn-primary mb-4 float-end"
                          data-bs-toggle="collapse"
                          href="#multiCollapseExample1"
                          role="button"
                          aria-expanded="false"
                          aria-controls="multiCollapseExample1"
    
                          ><i class='bx bxs-plus-circle mb-1'></i> Add  Amenities</button>
                        
                    </div>
                    <br>
                    <div class="col-12 mt-3  mb-md-0">
                            <div class="collapse multi-collapse" id="multiCollapseExample1">
                              
                    <form action="{% url 'addaminities' %}" method="POST"  >
                        {% csrf_token %}
                    
                      <div class="row">
                        <div class="col-6 mb-6">
                          <label for="nameBackdrop" class="form-label">Amenities Name</label>
                          <input
                            type="text"
                            name="servicename"
                            maxlength="60"
                            id="nameBackdrop"
                            class="form-control"
                            placeholder="Like Free Wifi,Swiming Pool!"
                            required
                          />
                        </div>
                        
                    </div>
                    <button type="submit" class="btn btn-primary mt-4 ms-3 w-25">
                        Add
                    </button>
                    
                </form></div>

                <table class="table mt-5">
                    <thead class="table">
                      <tr>
                        <th>Amenities name</th>
                        
                        <th>Action</th>
                      </tr>
                    </thead>
                    <tbody class="table-border-bottom-0">
            
                        {% for data in amenities%}
                      <tr>
                        <td> <strong>{{data.description}}</strong></td>
                    
                        <td>
                            <a href="{% url 'deleteaminity' id=data.id%}"><span class="badge bg-label-danger  "><i class='bx bxs-trash'></i></span></a>
                        </td>
                      </tr>
                      {%endfor%}
               
                    
                    </tbody>
                  </table>

            </div></div>
                    
                <!--loylty div end-->

               

                <!--tax div start-->
                <div class="tab-pane fade show " id="navs-pills-justified-profile" role="tabpanel">
                    <h5><i class='bx bxs-image mb-1'></i>  Add Images To Category Gallary</h5>
                    <div class="col-12 mb-2">
                        <button
                          class="btn btn-primary mb-4 float-end"
                          data-bs-toggle="collapse"
                          href="#multiCollapseExample1"
                          role="button"
                          aria-expanded="false"
                          aria-controls="multiCollapseExample1"
    
                          ><i class='bx bxs-plus-circle mb-1'></i> Add Images </button>
                        
                    </div>
                    <div class="collapse multi-collapse" id="multiCollapseExample1">
                              
                        <form action="{% url 'addcatimg' %}" method="POST"  enctype="multipart/form-data">
                            {% csrf_token %}
                        
                          <div class="row">

                            <div class="col-6 mb-6">
                              <label for="nameBackdrop" class="form-label">Choose Room Category</label>
                                
                                <select class="form-control" name="roomcat"  placeholder="Select Category" required>
                                  {%for cat in roomcat%}
                                  <option value="{{cat.id}}">{{cat.category_name}}</option>
                                  {%endfor%}
                                </select>
                              </div>
                            <div class="col-6 mb-6">
                              <p id="message1" style="color: red;"></p>
                              <label for="nameBackdrop" class="form-label">Choose Image</label>
                              <input
                                type="file"
                                name="galaryimg"
                                maxlength="60"
                                {% comment %} id="fileInput1" {% endcomment %}
                                id="imageInput1"
                                class="form-control"
                                placeholder="Like Free Wifi,Swiming Pool!"
                                required
                              />
                            </div>
                             <img id="preview1" src="#" style="display: none; max-width: 100%; margin-top: 10px;" />
                            <p id="processingMessage1" style="display: none; color: green;">Processing...</p>
                        </div>
                        <button type="submit" class="btn btn-primary mt-4 ms-3 w-25">
                            Add
                        </button>
                        
                    </form></div>

                    <script>
                      const MAX_FILE_SIZE1 = 700 * 1024; // 700 KB
                      const MAX_DIMENSION1 = 1200; // Maximum width or height

                      document.getElementById('imageInput1').addEventListener('change', async function(event) {
                          const input1 = event.target;
                          const file1 = input1.files[0];
                          const processingMessage1 = document.getElementById('processingMessage1');
                          const preview1 = document.getElementById('preview1');

                          if (!file1) return;

                          processingMessage1.style.display = 'block';
                          processingMessage1.textContent = "Processing your image, please wait...";
                          preview1.style.display = 'none';

                          const resizedFile1 = await resizeAndCompressImage1(file1, MAX_FILE_SIZE1, MAX_DIMENSION1);

                          const dataTransfer1 = new DataTransfer();
                          dataTransfer1.items.add(resizedFile1);
                          input1.files = dataTransfer1.files;

                          processingMessage1.style.display = 'none';
                          preview1.src = URL.createObjectURL(resizedFile1);
                          preview1.style.display = 'block';
                      });

                      async function resizeAndCompressImage1(file1, maxFileSize1, maxDimension1) {
                          return new Promise((resolve) => {
                              const img1 = new Image();
                              const reader1 = new FileReader();

                              reader1.onload = (e) => {
                                  img1.src = e.target.result;
                              };

                              img1.onload = () => {
                                  const canvas1 = document.createElement('canvas');
                                  const ctx1 = canvas1.getContext('2d');

                                  let { width, height } = img1;
                                  if (width > maxDimension1 || height > maxDimension1) {
                                      if (width > height) {
                                          height *= maxDimension1 / width;
                                          width = maxDimension1;
                                      } else {
                                          width *= maxDimension1 / height;
                                          height = maxDimension1;
                                      }
                                  }

                                  canvas1.width = width;
                                  canvas1.height = height;

                                  ctx1.drawImage(img1, 0, 0, width, height);

                                  canvas1.toBlob(
                                      (blob1) => {
                                          if (blob1.size > maxFileSize1) {
                                              canvas1.toBlob(
                                                  (finalBlob1) => {
                                                      resolve(
                                                          new File([finalBlob1], file1.name, {
                                                              type: file1.type,
                                                              lastModified: Date.now(),
                                                          })
                                                      );
                                                  },
                                                  file1.type,
                                                  0.7
                                              );
                                          } else {
                                              resolve(
                                                  new File([blob1], file1.name, {
                                                      type: file1.type,
                                                      lastModified: Date.now(),
                                                  })
                                              );
                                          }
                                      },
                                      file1.type,
                                      0.85
                                  );
                              };

                              reader1.readAsDataURL(file1);
                          });
                      }
                  </script>
                    {% comment %} <script>
                      const MAX_FILE_SIZE = 700 * 1024; // 700 KB in bytes
                      const fileInput = document.getElementById('fileInput1');
                      const messageElement = document.getElementById('message1');
              
                      fileInput.addEventListener('change', function(event) {
                          const file = event.target.files[0]; // Get the selected file
              
                          if (file) {
                              if (file.size > MAX_FILE_SIZE) {
                                  messageElement.textContent = `File size is too large (${(file.size / 1024).toFixed(2)} KB). Please upload a file smaller than 700 KB.`;
                                  event.target.value = ''; // Clear the file input
                              } else {
                                  messageElement.textContent = 'File size is valid.';
                              }
                          }
                      });
              
                      // Prevent form submission if the file size is too large
                      document.getElementById('uploadForm').addEventListener('submit', function(event) {
                          const file = fileInput.files[0];
                          if (file && file.size > MAX_FILE_SIZE) {
                              event.preventDefault(); // Prevent form submission
                              messageElement.textContent = 'Please upload a file smaller than 700 KB.';
                          }
                      });
                  </script> {% endcomment %}
    
                    <table class="table mt-5">
                        <thead class="table">
                          <tr>
                            <th>Image Url</th>
                            
                            <th>Action</th>
                          </tr>
                        </thead>
                        <tbody class="table-border-bottom-0">
                
                            {% for data in gallary%}
                          <tr>
                            <td>{{data.category.category_name}}</td>
                            <td> <strong></strong>
                            <img src="{{data.image.url}}" height="30"/>
                            </td>
                        
                            <td>
                                <a href="{% url 'deleteimg' id=data.id %}"><span class="badge bg-label-danger  "><i class='bx bxs-trash'></i></span></a>
                            </td>
                          </tr>
                          {%endfor%}
                   
                        
                        </tbody>
                      </table>

                   

                </div>
                <!--tax div end-->
                

                  <!--category div start-->
                <div class="tab-pane fade" id="navs-pills-justified-messages" role="tabpanel">
                    <h5><i class='bx bxs-image mb-1'></i>Cancellation policy</h5>
                    <form action="{% url 'addcp' %}" method="POST"  enctype="multipart/form-data">
                        {% csrf_token %}
                    
                      <div class="row">
                        <div class="col-6 mb-6">
                          <label for="nameBackdrop" class="form-label">Full Cancellation policy</label>
                          <input
                            type="text"
                            name="cp"
                            
                            id="nameBackdrop"
                            class="form-control"
                            placeholder="Free Cancellation upto 48 hours before check-in"
                            required
                          />
                        </div>

                      
                        
                    </div>
                    <button type="submit" class="btn btn-primary mt-4  w-25">
                        Add
                    </button>
                    
                </form>
                  
                <table class="table mt-5">
                    <thead class="table">
                      <tr>
                        <th>cancellention-policy</th>
                      </tr>
                    </thead> 
                    <tbody class="table-border-bottom-0">
            
                        {% for data in cpdata%}
                      <tr>
                        <td>CURRENT :<strong>{{data.cancellention_policy}}</strong></td>
                        
                      </tr>
                      {%endfor%}
               
                    
                    </tbody>
                  </table>

                </div>
                <!--category div end-->
                
              <!--sms marketing div start-->
              <div class="tab-pane fade" id="navs-pills-justified-sms" role="tabpanel">
                <h5><i class='bx bxs-image mb-1'></i>OFFERS & PACKAGES Management</h5>
                    <form action="{%url 'addoffers' %}" method="POST" >
                        {% csrf_token %}
                    
                      <div class="row">
                        <div class="col-6 mb-6">
                            <label for="nameBackdrop" class="form-label">Offer description</label>
                            <input
                              type="text"
                              name="discription"
                              maxlength="60"
                              id="nameBackdrop"
                              class="form-control"
                              placeholder="Add ₹ 2000 Amount Rooms And Get this offer!"
                              required
                            />
                          </div>

                        <div class="col-6 mb-6">
                          <label for="nameBackdrop" class="form-label">Offer Discount In %</label>
                          <input
                            type="number"
                            name="discountpersantage"
                            maxlength="60"
                            id="nameBackdrop"
                            class="form-control"
                            placeholder="Like 10 ,20, 25!"
                            required
                          />
                        </div>

                        <div class="col-6 mb-6">
                            <label for="nameBackdrop" class="form-label">Offer minimum Price </label>
                            <input
                              type="number"
                              name="offerminprice"
                              maxlength="60"
                              id="nameBackdrop"
                              class="form-control"
                              placeholder="Like 1500,2500,2000!"
                              required
                            />
                          </div>

                        
                        
                    </div>
                    <button type="submit" class="btn btn-primary mt-4  w-25">
                        Add New
                    </button>
                    
                </form>
                  
                <table class="table mt-5">
                    <thead class="table">
                      <tr>
                        <th>Description</th>
                        <th>Minimum Price</th>
                        <th>Discount %</th>
                      </tr>
                    </thead> 
                    <tbody class="table-border-bottom-0">
                    
                        {% for data in offers%}
                      <tr>
                        <td> <strong>{{data.description}}</strong></td>
                        <td> <strong>{{data.min_price}}</strong></td>
                        <td> <strong>{{data.discount_percentage}}</strong></td>
                    
                        
                      </tr>
                      {%endfor%}
               
                    
                    </tbody>
                  </table>

                </div>
             </div>
             <!--sms Marketing-->
              


             
              
              
              </div>

               
        </div>
    </div>



    <div class="row mb-3 mt-3">

      <div class="col-3 ">
          
          <div class="nav-align-top mb-4">
              <ul class="nav nav-pills mb-3 nav-fill text-right" role="tablist" style="text-align:left">
                <li class="nav-item w-100 m-1 mt-3 " >
                  <button
                    type="button"
                    class="nav-link active " 
                   style="text-align:left"
                    role="tab"
                    data-bs-toggle="tab"
                    data-bs-target="#navs-pills-justified-pptdes"
                    aria-controls="navs-pills-justified-pptdes"
                    aria-selected="true"
                  >
                  <i class='bx bx-shape-square'></i> property description
                  </button>
                </li>
                <li class="nav-item w-100 m-1">
                  <button
                    type="button"
                    class="nav-link"
                    style="text-align:left"
                    role="tab"
                    data-bs-toggle="tab"
                    data-bs-target="#navs-pills-justified-catservice"
                    aria-controls="navs-pills-justified-catservice"
                    aria-selected="false"
                  >
                  <i class='bx bxs-category-alt'></i> Category Services
                  </button>
                </li>
                <li class="nav-item w-100 m-1">
                  <button
                    type="button"
                    class="nav-link"
                    style="text-align:left"
                    role="tab"
                    data-bs-toggle="tab"
                    data-bs-target="#navs-pills-justified-whatchat"
                    aria-controls="navs-pills-justified-whatchat"
                    aria-selected="false"
                  >
                  <i class='bx bxs-category-alt'></i> Whatsapp links
                  </button>
                </li>
              
                
               
              </ul>
              
            </div>
    
          
      </div>
      <div class="col-9">
          <div class="card ">
              <div class="tab-content">
                  <!--loylty div start-->
                  <div class="tab-pane fade show active" id="navs-pills-justified-pptdes" role="tabpanel">
                      <h5><i class='bx bx-shape-square'></i>property Description</h5>
                     
                      
                      <div class="col-12 mt-3  mb-md-0">
                                
                      <form action="{% url 'updatepptdesc' %}" method="POST"  >
                          {% csrf_token %}
                      
                        <div class="row">
                         
                          <div class="mb-3 col-md-12">
                            <label for="zipCode" class="form-label">Property Description </label>
                            <div class="input-group input-group-merge speech-to-text">
                              <textarea class="form-control" placeholder="Property Description" name="description" rows="4"></textarea>
                              <span class="input-group-text">
                                <i class="bx bx-microphone cursor-pointer text-to-speech-toggle"></i>
                              </span>
                            </div>
                          </div> 
                          
                      </div>
                      <button type="submit" class="btn btn-primary mt-4 ms-1 w-25">
                          Update
                      </button>

                      
                      
                  </form>
    
                  <p>{%for i in pptdescription%}

                    {{i.description}}
                    {%endfor%}
                  </p>
                  
    
              </div></div>
                      
                  <!--loylty div end-->
    
                 
    
                  <!--tax div start-->
                  <div class="tab-pane fade show " id="navs-pills-justified-catservice" role="tabpanel">
                      <h5><i class='bx bxs-category-alt'></i>  Rooms Category Services</h5>
                      
                      <div class="" id="">
                                
                          <form action="{% url 'addcatservice' %}" method="POST" >
                              {% csrf_token %}
                          
                            <div class="row">

                              <div class="col-6 mb-6">
                                <label for="nameBackdrop" class="form-label">Select Room Category</label>
                                  
                                  <select class="form-control" name="roomcatids"  placeholder="Select Category" required>
                                    {%for cat in roomcat%}
                                    <option value="{{cat.id}}">{{cat.category_name}}</option>
                                    {%endfor%}
                                  </select>
                                </div>
    
                              
                              <div class="col-6 mb-6">
                                <label for="nameBackdrop" class="form-label">Choose Image</label>
                                <input
                                  type="text"
                                  name="servicenamecat"
                                  maxlength="150"
                               
                                  id=""
                                  class="form-control"
                                  placeholder="Like Free Wifi,Swiming Pool!"
                                  required
                                />
                              </div>
                              
                          </div>
                          <button type="submit" class="btn btn-primary mt-4  w-25">
                              Add
                          </button>
                          
                      </form></div>
      
                      
    
    
                      <table class="table mt-5">
                          <thead class="table">
                            <tr>
                              <th>Category</th>
                              <th>Service</th>
                              <th>Action</th>
                            </tr>
                          </thead>
                          <tbody class="table-border-bottom-0">
                  
                              {% for data in roomservicess%}
                            <tr>
                              <td> 
                                {{data.category.category_name}}
                              </td>

                              <td> 
                                {{data.service}}
                              </td>
                          
                              <td>
                                  <a href="{% url 'deletecatservice' id=data.id %}"><span class="badge bg-label-danger  "><i class='bx bxs-trash'></i></span></a>
                              </td>
                            </tr>
                            {%endfor%}
                     
                          
                          </tbody>
                        </table>
    
                     
    
                  </div>
                  <!--tax div end-->
                  
    
                    <!--category div start-->
                  <div class="tab-pane fade" id="navs-pills-justified-whatchat" role="tabpanel">
                      <h5><i class='bx bxs-image mb-1'></i>Whatsapp Link</h5>
                      <form action="{% url 'whatsaapchat' %}" method="POST"  >
                          {% csrf_token %}
                      
                        <div class="row">
                          
                          <div class="col-6 mt-2 mb-6">
                            <label for="nameBackdrop" class="form-label">Whatsapp Chat Link</label>
                            <input
                              type="url"
                              name="whatsapurl"
                              maxlength=""
                              id="nameBackdrop"
                              class="form-control"
                              placeholder="Chat link"
                              required
                            />
                          </div>
    
                        
                          
                      </div>
                      <button type="submit" class="btn btn-primary mt-4  w-25">
                          Add
                      </button>
                      
                  </form>
                    
                  

                  <table class="table mt-5">
                    <thead class="table">
                      <tr>
                        <th>Url</th>
                        <th>Action</th>
                      </tr>
                    </thead>
                    <tbody class="table-border-bottom-0">
            
                        {% for data in chatwhatsaap%}
                      <tr>
                        <td> 
                          {{data.link}}
                        </td>

                        
                    
                        <td>
                            <a href="{% url 'deletewhatsapchat' id=data.id %}"><span class="badge bg-label-danger  "><i class='bx bxs-trash'></i></span></a>
                        </td>
                      </tr>
                      {%endfor%}
               
                    
                    </tbody>
                  </table>
    
                  </div>
                  <!--category div end-->
                  
               
                
    
    
               
                
                
                </div>
    
                 
          </div>
      </div>
    




</div>




<div class="col-xl-6">
    
      
    </div>
  </div>

{%endblock%}