{% load static %}
<html
  lang="en"
  class="light-style layout-menu-fixed"
  dir="ltr"
  data-theme="theme-default"
  data-assets-path="{% static 'undercss/assets/'%}"
  data-template="vertical-menu-template-free"
>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />

    <title>Dashboard - Analytics | Sneat - Bootstrap 5 HTML Admin Template - Pro</title>

    <meta name="description" content="" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'undercss/assets/img/favicon/favicon.ico'%}" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- Icons. Uncomment required icon fonts -->
    <link rel="stylesheet" href="{% static 'undercss/assets/vendor/fonts/boxicons.css'%}" />

    <!-- Core CSS -->
    <link rel="stylesheet" href="{% static 'undercss/assets/vendor/css/core.css'%}" class="template-customizer-core-css'%}" />
    <link rel="stylesheet" href="{% static 'undercss/assets/vendor/css/theme-default.css'%}" class="template-customizer-theme-css'%}" />
    <link rel="stylesheet" href="{% static 'undercss/assets/css/demo.css'%}" />

    <!-- Vendors CSS -->
    <link rel="stylesheet" href="{% static 'undercss/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css'%}" />

    <link rel="stylesheet" href="{% static 'undercss/assets/vendor/libs/apex-charts/apex-charts.css'%}" />

    {% comment %} <link rel="stylesheet" href="{% static 'undercss/assets/vendor/libs/spinkit/spinkit.css'%}" /> {% endcomment %}

    <!-- Page CSS -->

    <!-- Helpers -->
    <script src="{% static 'undercss/assets/vendor/js/helpers.js'%}"></script>

    <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
    <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
    <script src="{% static 'undercss/assets/js/config.js'%}"></script>
    <style>

        /* styles.css */

/* Ensure the HTML and body elements occupy the full viewport height and width */
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow-x: hidden; /* Prevent horizontal scrolling */
}

/* Optional: Style the body to demonstrate full width */
body {
    box-sizing: border-box; /* Include padding and border in element's total width and height */
    font-family: Arial, sans-serif;
}

/* Style for header, main, and footer */
header, main, footer {
    padding: 20px;
    text-align: center;
}

/* Ensure that all child elements respect the box-sizing */
*, *::before, *::after {
    box-sizing: inherit;
}

    </style>
  </head>
<body>
      {% comment %}
    <div class="row">
        <div class="col-1">
           <button id="download-btn">Download Image</button>

            <input type=button value="Back" class="btn btn-outline-warning" onClick="javascript:history.go(-1);">
        </div>
        
        <div class="col-6">
    <img src="{% static 'undercss/assets/img/avatars/SCAN1.png'%}" height="567px" width=""  />
    
  
        {%for data in qrdata%}
        
    <img id="image" src="{{data.qrimage.url}}" alt="QR Code" height="220px" width="220px" style="margin-left:-307px;margin-top:-40px">
        
  
    <input type="hidden" id="roomno" value="{{data.room_no.room_name}}" /> 
    {%endfor%}
</div>

</div> {% endcomment %}

<div class="row">
    <div class="col-4">
        <div class="card w-75 h-50" style="margin-top:150px;">
            
            <input type=button value="Back" class="btn btn-warning w-75 m-4" onClick="javascript:history.go(-1);">
      
            <button id="download-btn" class="btn btn-outline-info w-75 m-4">Download Image</button>
            <button class="btn btn-outline-primary w-75 m-4" onclick="window.print()">Print Content</button>
            
        </div>
    </div>
    <div class="col-4 " id="content" >

        <img src="{% static 'undercss/assets/img/avatars/SCAN1.png'%}" height="620px" width=""  />
    
  
        {%for data in qrdata%}
        
    <img id="image" src="{{data.qrimage.url}}" alt="QR Code" height="250px" width="250px" style="margin-left:-338px;margin-top:-170px">
        
  
    <input type="hidden" id="roomno" value="{{data.room_no.room_name}}" /> 
    
    </div>

    <div class="col-4 ">
        <div class="card w-75 h-50 float-end " style="margin-top:150px;">
            <form action="{% url 'addfoodurlbyqr' %}" method="post">
                {% csrf_token %}
                <input type="hidden" value="{{data.room_no.id}}" name="dataid" />
                <div class="mb-3 w-75 m-5">
                    <label class="form-label" for="basic-icon-default-email">FoodWebpage-link</label>
                    <div class="input-group input-group-merge">
                      <span class="input-group-text"><i class='bx bxl-sketch'></i></span>
                      <input
                        type="text"
                        name="FoodWebsitelink"
                        value="{{data.foodurl}}"
                        id="basic-icon-default-email"
                        class="form-control"
                        placeholder="www.xyz.com"
                        aria-label="john.doe"
                        aria-describedby="basic-icon-default-email2"
                        
                      />
                      <span id="basic-icon-default-email2" class="input-group-text">link</span>
                    </div>
                  </div>
                  
                  <div class="form-text ms-5">None = Not url yet ! Add This Room Food App Link. </div>
                  <div class="form-text ms-5">Link exists! if you want to update. </div>
                  <button type="submit" class="btn btn-warning mt-2 ms-5">update</button>
            </form>
        </div>
    </div>
    {%endfor%}


</div> 


{% comment %} <div class='card'> 
 <button id="download-btn">Download Image</button>

    <input type=button value="Back" class="btn btn-outline-warning" onClick="javascript:history.go(-1);">
                     
</div> {% endcomment %}
    <script>
        // script.js
{% comment %} document.getElementById('download-btn').addEventListener('click', function() {
    const image = document.getElementById('image');
    
    const imageUrl = image.src;
    const link = document.createElement('a');
    link.href = imageUrl;
    link.download = 'downloaded-image.jpg'; // You can set a default file name
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
}); {% endcomment %}

// script.js
document.getElementById('download-btn').addEventListener('click', function() {
    const image = document.getElementById('image');
    const imageUrl = image.src;
    const roomname = document.getElementById('roomno').value;
    fetch(imageUrl)
        .then(response => response.blob())
        .then(blob => {
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'Roomno'+roomname+'.jpg'; // Set your desired image name here
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        })
        .catch(err => console.error('Error downloading image:', err));
});




    </script>
    
               <!-- build:js assets/vendor/js/core.js -->
               <script src="{% static 'undercss/assets/vendor/libs/jquery/jquery.js'%}"></script>
               <script src="{% static 'undercss/assets/vendor/libs/popper/popper.js'%}"></script>
               <script src="{% static 'undercss/assets/vendor/js/bootstrap.js'%}"></script>
               <script src="{% static 'undercss/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js'%}"></script>
           
               <script src="{% static 'undercss/assets/vendor/js/menu.js'%}"></script>
               <!-- endbuild -->
           
               <!-- Vendors JS -->
               <script src="{% static 'undercss/assets/vendor/libs/apex-charts/apexcharts.js'%}"></script>
           
               <!-- Main JS -->
               <script src="{% static 'undercss/assets/js/main.js'%}"></script>
           
               <!-- Page JS -->
               <script src="{% static 'undercss/assets/js/dashboards-analytics.js'%}"></script>
           
               <!-- Place this tag in your head or just before your close body tag. -->
               <script async defer src="https://buttons.github.io/buttons.js"></script>
             </body>
           </html>
           

           <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Elegant Light Lavender Loader</title>
                <style>
                    body {
                        margin: 0;
                        font-family: Arial, sans-serif;
                        background-color: #f3f3f3;
                    }
            
                    .loader-wrapper {
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background-color: rgba(255, 255, 255, 0.9); /* Semi-transparent background */
                        z-index: 9998;
                    }
            
                    .loader {
                        position: relative;
                        width: 60px;
                        height: 60px;
                    }
            
                    .loader div {
                        position: absolute;
                        border: 4px solid transparent;
                        border-top-color: #c5a3ff; /* Light lavender color */
                        border-radius: 50%;
                        animation: spin 1.5s ease infinite;
                    }
            
                    .loader div:nth-child(1) {
                        width: 60px;
                        height: 60px;
                        animation-delay: -0.45s;
                    }
            
                    .loader div:nth-child(2) {
                        width: 45px;
                        height: 45px;
                        top: 7.5px;
                        left: 7.5px;
                        animation-delay: -0.3s;
                    }
            
                    .loader div:nth-child(3) {
                        width: 30px;
                        height: 30px;
                        top: 15px;
                        left: 15px;
                        animation-delay: -0.15s;
                    }
            
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
            
                    #content {
                        display: none; /* Hide content initially */
                        opacity: 0;
                        transition: opacity 0.5s ease;
                    }
            
                    .loader-wrapper.hidden #content {
                        display: block;
                        opacity: 1;
                    }
                </style>
            </head>
            <body>
                <div id="loader-wrapper" class="loader-wrapper">
                    <div class="loader">
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>
                <div id="content">
                   
                </div>
            
                <script>
                    // Show the loader when the page is loading
                    document.addEventListener('DOMContentLoaded', function() {
                        document.getElementById('loader-wrapper').style.display = 'flex';
                        document.getElementById('content').style.display = 'none'; // Hide the content
                    });
            
                    // Hide the loader and show the content when the page has fully loaded
                    window.addEventListener('load', function() {
                        document.getElementById('loader-wrapper').style.display = 'none'; // Hide the loader
                        document.getElementById('content').style.display = 'block'; // Show the content
                        setTimeout(function() {
                            document.getElementById('content').style.opacity = '1'; // Fade in the content
                        }, 50); // Slight delay for the fade effect
                    });
                </script>
            </body>
            </html>




